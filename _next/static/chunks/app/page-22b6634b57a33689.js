(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4440:function(e,t){var s;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var a=typeof s;if("string"===a||"number"===a)e.push(s);else if(Array.isArray(s)){if(s.length){var i=r.apply(null,s);i&&e.push(i)}}else if("object"===a){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){e.push(s.toString());continue}for(var u in s)n.call(s,u)&&s[u]&&e.push(u)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0!==(s=(function(){return r}).apply(t,[]))&&(e.exports=s)}()},3:function(e,t,s){Promise.resolve().then(s.bind(s,5566))},153:function(e,t,s){"use strict";var n=s(9222);let r=n.Z.create({baseURL:"https://vox-harbor.com/api"});t.Z=r},8227:function(e,t,s){"use strict";s.d(t,{CK:function(){return u},S$:function(){return i}});var n=s(663),r=s(153);let a=(0,n.createSlice)({name:"message",initialState:{messages:[{user_id:0,date:"",chat_id:0,message_id:0,channel_id:0,post_id:0,bot_index:0,shard:0}],status:"init"},reducers:{},extraReducers:e=>{e.addCase(i.pending,e=>{e.status="loading"}).addCase(i.fulfilled,(e,t)=>{e.status="success",e.messages=t.payload}).addCase(i.rejected,e=>{e.status="error"})}}),i=(0,n.createAsyncThunk)("/message",async e=>{let{data:t}=await r.Z.get("/comments?user_id=".concat(e.id,"&offset=").concat(e.offset));return t}),u=a.actions;t.ZP=a.reducer},2257:function(e,t,s){"use strict";s.d(t,{Q:function(){return i},tr:function(){return u}});var n=s(663),r=s(153);let a=(0,n.createSlice)({name:"text",initialState:{texts:[{text:"",chat:"",comment:{user_id:0,date:"",chat_id:0,message_id:0,channel_id:0,post_id:0,bot_index:0,shard:0}}],status:"init"},reducers:{},extraReducers:e=>{e.addCase(i.pending,e=>{e.status="loading"}).addCase(i.fulfilled,(e,t)=>{e.status="success",e.texts=t.payload}).addCase(i.rejected,e=>{e.status="error"})}}),i=(0,n.createAsyncThunk)("/getText",async e=>{let{data:t}=await r.Z.post("/messages",e);return t}),u=a.actions;t.ZP=a.reducer},6319:function(e,t,s){"use strict";s.d(t,{uP:function(){return u},yC:function(){return i}});var n=s(663),r=s(153);let a=(0,n.createSlice)({name:"search",initialState:{search:{users:[{user_id:0,usernames:[""],names:[""]}],chats:[{id:0,name:"",join_string:"",shard:0,bot_index:0,added:"",type:""}]},user:{user_id:-1,usernames:[""],names:[""]},chat:{id:-1,name:"",join_string:"",shard:0,bot_index:0,added:"",type:""},status:"init"},reducers:{addResult:(e,t)=>{0===e.search.chats.length?e.user=t.payload:e.chat=t.payload}},extraReducers:e=>{e.addCase(i.pending,e=>{e.status="loading"}).addCase(i.fulfilled,(e,t)=>{e.status="success",e.search=t.payload}).addCase(i.rejected,e=>{e.status="error"})}}),i=(0,n.createAsyncThunk)("/search",async e=>{let{data:t}=await r.Z.get("users_and_chats?query=".concat(e));return t}),u=a.actions;t.ZP=a.reducer},208:function(e,t,s){"use strict";s.d(t,{CG:function(){return l},TL:function(){return d},ol:function(){return p}});var n=s(7373),r=s(2265),a=s(3198),i=s(6319),u=s(8227),c=s(2257);let o={...i.uP,...u.CK,...c.tr},d=a.I0,l=a.v9,p=()=>{let e=d();return(0,r.useMemo)(()=>(0,n.DE)(o,e),[e])}},2145:function(e,t,s){"use strict";s.d(t,{I:function(){return o}});var n=s(7437),r=s(2265),a=s(4440),i=s.n(a),u=s(7965);let c=(e,t)=>{let[s,n]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let s=setTimeout(()=>n(e),t);return()=>clearTimeout(s)},[e,t]),s},o=e=>{let{id:t,text:s,value:a,setValue:o,open:d}=e,[l,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(a),x=c(h,300);return u.n.nick,u.n.user_id,u.n.link,u.n.channel,(0,r.useEffect)(()=>{"send"===a&&f("")},[a]),(0,r.useEffect)(()=>{o(x)},[x]),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",{id:t,value:h,onChange:e=>f(e.target.value),className:i()("block","px-8 pt-5 pb-1 text-[#000]","w-full text-md","appearance-none focus:outline-none focus:ring-0","peer",l&&"cb",d?"rounded-t-[24px]":"rounded-[24px]"),placeholder:" "}),(0,n.jsx)("label",{className:" absolute text-md text-zinc-400 duration-150 transform -translate-y-3 scale-75 top-4 z-10 origin-[0] left-6 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:-translate-y-3 ",htmlFor:t,children:s})]})}},7965:function(e,t,s){"use strict";s.d(t,{n:function(){return n}});let n={channel:/^.{2,}$/,nick:/^.{2,}$/,user_id:/^[0-9]{8,}$/,link:/^https:\/\/t.me\/[a-z0-9_\s/\]{2,}\/[0-9]{2,}$/}},5566:function(e,t,s){"use strict";s.r(t),s.d(t,{SubMenu:function(){return h}});var n=s(7437),r=s(2265),a=s(2145),i=s(4033),u=s(4440),c=s.n(u),o=s(208);let d=e=>{let{}=e,t=(0,i.useRouter)(),{addResult:s}=(0,o.ol)(),[a,u]=(0,r.useState)("nothing"),d=(0,o.CG)(e=>e.search.status),p=(0,o.CG)(e=>e.search.search),h=(e,n)=>{"user"===n?t.push("/user"):"chat"===n&&t.push("/channel"),s(e)},f=e=>"init"===d||"loading"===d?(0,n.jsxs)("div",{children:["Loading ",e," ..."]}):"error"===d?"Error happen":void 0;return(0,n.jsxs)("div",{className:c()("absolute z-10 left-0 right-0","list-none overflow-y-scroll top-[42px] max-h-[350px] min-h-[40px] pt-[10px]","shadow-md bg-white rounded-b-2xl"),children:[f("users")||p.users.map((e,t)=>(0,n.jsx)("div",{children:(0,n.jsx)(l,{type:"user",setType:u,index:t,item:e.usernames[0],clickHandler:h,obj:p.users[t]})},t)),f("chats")||p.chats.map((e,t)=>(0,n.jsx)("div",{children:(0,n.jsx)(l,{type:"chat",setType:u,index:t,item:e.name,clickHandler:h,obj:p.chats[t]})},t))]})},l=e=>{let{type:t,setType:s,index:a,item:i,clickHandler:u,obj:o}=e,[d,l]=(0,r.useState)(!1),p=e=>{"Enter"===e.key&&u(o,t)};return(0,r.useEffect)(()=>(document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}),[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("li",{onClick:()=>u(o,t),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),className:"flex items-center py-2 px-4 hover:bg-gray-500 hover:text-white transition-colors cursor-pointer",children:[(0,n.jsx)("div",{children:i}),(0,n.jsxs)("div",{className:c()("text-[#6A6D73FF] italic underline",d&&"text-black"),children:[":",t]})]},a)})};var p=s(6319);let h=()=>{let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[u,c]=(0,r.useState)(!0),[l,h]=(0,r.useState)(!1),f=(0,o.TL)();return(0,r.useEffect)(()=>{e.length>=3?(h(!0),f((0,p.yC)(e))):h(!1)},[e]),(0,n.jsx)("div",{className:"mb-[50px]",children:(0,n.jsxs)("div",{className:"flex flex-col bg-wraper rounded-[22px] py-[22px] px-[12px]",children:[(0,n.jsx)("div",{className:"flex gap-x-[20px]",children:(0,n.jsxs)("div",{className:"relative w-full",children:[(0,n.jsx)(a.I,{id:"userValue",text:"ник, id, ссылка на комментарий, название канала",value:e,setValue:t,setType:i,open:l}),l&&(0,n.jsx)(d,{})]})}),(0,n.jsx)("div",{className:"pt-[10px] px-[30px] text-[14px] text-inf",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})})}},4033:function(e,t,s){e.exports=s(290)}},function(e){e.O(0,[782,971,864,744],function(){return e(e.s=3)}),_N_E=e.O()}]);