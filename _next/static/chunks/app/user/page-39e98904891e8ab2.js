(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{3041:function(e,s,t){Promise.resolve().then(t.bind(t,5960))},153:function(e,s,t){"use strict";var a=t(9222);let i=a.Z.create({baseURL:"https://vox-harbor.com/api"});s.Z=i},8227:function(e,s,t){"use strict";t.d(s,{CK:function(){return n},S$:function(){return d}});var a=t(663),i=t(153);let r=(0,a.createSlice)({name:"message",initialState:{messages:[{user_id:0,date:"",chat_id:0,message_id:0,channel_id:0,post_id:0,bot_index:0,shard:0}],status:"init"},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.status="loading"}).addCase(d.fulfilled,(e,s)=>{e.status="success",e.messages=s.payload}).addCase(d.rejected,e=>{e.status="error"})}}),d=(0,a.createAsyncThunk)("/message",async e=>{let{data:s}=await i.Z.get("/comments?user_id=".concat(e.id,"&offset=").concat(e.offset));return s}),n=r.actions;s.ZP=r.reducer},2257:function(e,s,t){"use strict";t.d(s,{Q:function(){return d},tr:function(){return n}});var a=t(663),i=t(153);let r=(0,a.createSlice)({name:"text",initialState:{texts:[{text:"",chat:"",comment:{user_id:0,date:"",chat_id:0,message_id:0,channel_id:0,post_id:0,bot_index:0,shard:0}}],status:"init"},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.status="loading"}).addCase(d.fulfilled,(e,s)=>{e.status="success",e.texts=s.payload}).addCase(d.rejected,e=>{e.status="error"})}}),d=(0,a.createAsyncThunk)("/getText",async e=>{let{data:s}=await i.Z.post("/messages",e);return s}),n=r.actions;s.ZP=r.reducer},6319:function(e,s,t){"use strict";t.d(s,{uP:function(){return n},yC:function(){return d}});var a=t(663),i=t(153);let r=(0,a.createSlice)({name:"search",initialState:{search:{users:[{user_id:0,usernames:[""],names:[""]}],chats:[{id:0,name:"",join_string:"",shard:0,bot_index:0,added:"",type:""}]},user:{user_id:-1,usernames:[""],names:[""]},chat:{id:-1,name:"",join_string:"",shard:0,bot_index:0,added:"",type:""},status:"init"},reducers:{addResult:(e,s)=>{0===e.search.chats.length?e.user=s.payload:e.chat=s.payload}},extraReducers:e=>{e.addCase(d.pending,e=>{e.status="loading"}).addCase(d.fulfilled,(e,s)=>{e.status="success",e.search=s.payload}).addCase(d.rejected,e=>{e.status="error"})}}),d=(0,a.createAsyncThunk)("/search",async e=>{let{data:s}=await i.Z.get("users_and_chats?query=".concat(e));return s}),n=r.actions;s.ZP=r.reducer},208:function(e,s,t){"use strict";t.d(s,{CG:function(){return x},TL:function(){return u},ol:function(){return o}});var a=t(7373),i=t(2265),r=t(3198),d=t(6319),n=t(8227),c=t(2257);let l={...d.uP,...n.CK,...c.tr},u=r.I0,x=r.v9,o=()=>{let e=u();return(0,i.useMemo)(()=>(0,a.DE)(l,e),[e])}},5960:function(e,s,t){"use strict";t.r(s),t.d(s,{UserPage:function(){return x}});var a=t(7437),i=t(2265),r=t(4033),d=t(208),n=t(2257);let c=()=>{let e=(0,d.CG)(e=>e.messages.status),s=(0,d.CG)(e=>e.messages.messages),t=(0,d.TL)(),r=()=>"init"===e||"loading"===e?(0,a.jsx)("div",{children:"Loading..."}):"error"===e?"Error happened":void 0;return(0,i.useEffect)(()=>{"success"===e&&t((0,n.Q)(s))},[e]),(0,a.jsx)("div",{className:"flex flex-col gap-y-[30px]",children:s.map((e,s)=>(0,a.jsx)("div",{children:r()||(0,a.jsx)(l,{index:s,date:e.date,chat_id:e.chat_id,channel_id:e.channel_id,message_id:e.message_id,post_id:e.post_id})},s))})},l=e=>{let{index:s,date:t,chat_id:r,message_id:n,channel_id:c,post_id:l}=e,[u,x]=(0,i.useState)("channel");(0,d.TL)();let o=(0,d.CG)(e=>e.text.texts[s]),h=(0,d.CG)(e=>e.text.status);return(0,a.jsxs)("div",{className:"w-[450px]",children:[(0,a.jsx)("div",{className:"flex w-full justify-center",children:"success"!==h?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("div",{className:"text-black",children:o.chat})}),(0,a.jsxs)("div",{className:"mx-[10px] flex justify-between italic text-[14px] text-textMessage",children:[(0,a.jsx)("div",{className:"",children:t.slice(0,10)}),(0,a.jsx)("div",{className:"flex w-full justify-center",children:"success"!==h?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)("div",{className:"text-black",children:u.toUpperCase()})}),(0,a.jsxs)("div",{className:"flex",children:["message_id:",(0,a.jsx)("div",{className:"underline cursor-pointer hover:text-black",children:n})]})]}),(0,a.jsxs)("div",{className:"rounded-2xl bg-backMessage p-2",children:[(0,a.jsx)("div",{className:"flex text-black",children:("init"===h||"loading"===h?(0,a.jsx)("div",{children:"Loading ..."}):"error"===h?"Error happen":void 0)||o.text}),(0,a.jsx)("div",{className:"w-full flex justify-end text-[14px] text-textMessage",children:t.slice(11)})]})]})};var u=t(8227);let x=e=>{var s;let{}=e,t=(0,d.CG)(e=>e.search.user),n=(0,d.CG)(e=>e.search.status),[l,x]=(0,i.useState)(0),[h,m]=(0,i.useState)(null!==(s=t.user_id)&&void 0!==s?s:503192108),f=(0,d.TL)(),p=(0,r.useRouter)();return(0,i.useEffect)(()=>{-1===t.user_id?p.push("/"):(m(t.user_id),f((0,u.S$)({id:h,offset:l})))},[]),(0,i.useEffect)(()=>{-1!==t.user_id&&f((0,u.S$)({id:h,offset:l}))},[l]),("init"===n||"loading"===n?(0,a.jsx)("div",{children:"Loading..."}):"error"===n?"Error happen":void 0)||(0,a.jsxs)("div",{className:"w-full mt-[50px]",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"flex text-[24px]",children:[(0,a.jsx)("div",{className:"text-button",children:"@"}),t.usernames[0]]})}),(0,a.jsxs)("div",{children:["user_id: ",t.user_id]}),(0,a.jsxs)("div",{className:"flex mt-[35px]",children:[(0,a.jsx)("div",{className:"text-[20px]",children:"Все ранее используемые имена пользователем:"}),(0,a.jsx)("div",{className:"flex gap-x-[10px] ml-[10px]",children:t.usernames.map((e,s)=>(0,a.jsxs)("div",{className:"text-[20px] text-[#6a6d73] italic",children:[e,","]},s))})]}),(0,a.jsx)("div",{className:"mt-[25px]",children:(0,a.jsx)(c,{})}),(0,a.jsx)("div",{className:"flex gap-x-[10px] px-[10px] mt-[20px] bg-[rgba(106,109,115,0.5)]",children:[1,2,3,4,5].map((e,s)=>(0,a.jsx)("div",{children:(0,a.jsx)(o,{item:e,setOffset:x})},s))})]})},o=e=>{let{item:s,setOffset:t}=e;return(0,a.jsx)("div",{onClick:()=>t(s-1),className:"cursor-pointer hover:bg-blue-300 text-button hover:text-white px-[5px] duration-300",children:(0,a.jsx)("div",{className:"",children:s})})}},4033:function(e,s,t){e.exports=t(290)}},function(e){e.O(0,[782,971,864,744],function(){return e(e.s=3041)}),_N_E=e.O()}]);